# 文档验证模板指南

## 1. 模板文件规范

模板文件必须是Python文件（.py），包含以下组件：

```python
# 模板元信息（必需）
TEMPLATE_INFO = {
    "name": "标注模板",
    "version": "1.0.0",
    "description": "模板描述"
}

# 字段定义（必需）
ANNOTATION_FIELDS = [
    {
        "name": "title",
        "type": "string",
        "required": True,
        "description": "标题"
    },
    {
        "name": "content",
        "type": "text",
        "required": True,
        "description": "内容"
    }
]
```

## 2. 字段类型

### 2.1 基本类型

**字符串 (string)**
```python
{
    "name": "title",
    "type": "string",
    "required": True,
    "description": "标题",
    "max_length": 100,
    "placeholder": "请输入标题"
}
```

**文本 (text)**
```python
{
    "name": "content",
    "type": "text",
    "required": True,
    "description": "内容",
    "rows": 5,
    "placeholder": "请输入内容"
}
```

**数字 (number)**
```python
{
    "name": "amount",
    "type": "number",
    "required": False,
    "description": "金额",
    "min_value": 0,
    "max_value": 999999
}
```

**布尔值 (boolean)**
```python
{
    "name": "is_valid",
    "type": "boolean",
    "required": False,
    "description": "是否有效",
    "default": False
}
```

**日期 (date)**
```python
{
    "name": "created_date",
    "type": "date",
    "required": False,
    "description": "创建日期"
}
```

### 2.2 选择类型

**单选 (select)**
```python
{
    "name": "category",
    "type": "select",
    "required": True,
    "description": "类别",
    "options": [
        {"value": "type1", "label": "类型1"},
        {"value": "type2", "label": "类型2"}
    ]
}
```

**多选 (multiselect)**
```python
{
    "name": "tags",
    "type": "multiselect",
    "required": False,
    "description": "标签",
    "options": [
        {"value": "tag1", "label": "标签1"},
        {"value": "tag2", "label": "标签2"}
    ]
}
```

### 2.3 复杂类型

**数组 (array)**
```python
{
    "name": "items",
    "type": "array",
    "required": False,
    "description": "项目列表",
    "item_type": "string"
}
```

**对象 (object)**
```python
{
    "name": "address",
    "type": "object",
    "required": False,
    "description": "地址",
    "properties": {
        "city": {"type": "string", "required": True, "description": "城市"},
        "street": {"type": "string", "required": False, "description": "街道"}
    }
}
```

## 3. 字段属性

### 3.1 通用属性
- `name`: 字段名称（必需）
- `type`: 字段类型（必需）
- `required`: 是否必填
- `description`: 字段描述
- `placeholder`: 占位符
- `default`: 默认值

### 3.2 验证属性
- `max_length`: 最大长度（string, text）
- `min_length`: 最小长度（string, text）
- `max_value`: 最大值（number）
- `min_value`: 最小值（number）

## 4. 示例模板

```python
# example_template.py

TEMPLATE_INFO = {
    "name": "文档标注模板",
    "version": "1.0.0",
    "description": "用于文档标注"
}

ANNOTATION_FIELDS = [
    {
        "name": "title",
        "type": "string",
        "required": True,
        "description": "文档标题",
        "max_length": 100
    },
    {
        "name": "category",
        "type": "select",
        "required": True,
        "description": "文档类别",
        "options": [
            {"value": "contract", "label": "合同"},
            {"value": "report", "label": "报告"}
        ]
    },
    {
        "name": "content",
        "type": "text",
        "required": True,
        "description": "文档内容",
        "rows": 10
    },
    {
        "name": "amount",
        "type": "number",
        "required": False,
        "description": "金额",
        "min_value": 0
    },
    {
        "name": "is_important",
        "type": "boolean",
        "required": False,
        "description": "是否重要",
        "default": False
    }
]
``` 